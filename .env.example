# FairLens v3.0 Enterprise Configuration
# Copy this file to .env and configure with your actual values

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# PostgreSQL connection string (production)
# Format: postgresql://username:password@host:port/database
# DATABASE_URL is auto-configured in Replit - no manual setup needed
# DATABASE_URL=postgresql://user:password@localhost:5432/fairlens

# SQLite fallback (local development only)
# If DATABASE_URL is not set, system will use SQLite at fairlens_backend/fairness.db
# SQLITE_DB_PATH=fairness_backend/fairness.db

# ============================================================================
# JWT AUTHENTICATION CONFIGURATION
# ============================================================================

# JWT secret key for signing tokens (REQUIRED in production)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET=your-secret-key-here-change-in-production

# Access token expiration in seconds (default: 900 = 15 minutes)
JWT_ACCESS_EXPIRE=900

# Refresh token expiration in seconds (default: 2592000 = 30 days)
JWT_REFRESH_EXPIRE=2592000

# ============================================================================
# WEBHOOK & ALERT CONFIGURATION
# ============================================================================

# Enable/disable webhooks globally
WEBHOOK_ENABLED=true

# Slack webhook URL for fairness alerts
# Get from: https://api.slack.com/messaging/webhooks
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Email webhook URL (e.g., SendGrid, Mailgun, custom service)
EMAIL_WEBHOOK_URL=https://your-email-service.com/webhook

# Custom webhook URL for enterprise integrations
CUSTOM_WEBHOOK_URL=https://your-monitoring-system.com/webhook

# Webhook request timeout in seconds
WEBHOOK_TIMEOUT=10

# ============================================================================
# FAIRNESS MONITORING CONFIGURATION
# ============================================================================

# Fairness threshold for DIR (default: 0.8 per EEOC 80% rule)
FAIRNESS_THRESHOLD=0.8

# Drift detection sensitivity (low, medium, high)
DRIFT_SENSITIVITY=medium

# Alert cooldown period in seconds (prevent alert spam)
ALERT_COOLDOWN=300

# ============================================================================
# MODEL REGISTRY CONFIGURATION
# ============================================================================

# Directory for storing ML model artifacts
MODEL_PATH=fairlens_backend/models

# Maximum number of model versions to retain
MAX_MODEL_VERSIONS=10

# Enable automatic model archiving
AUTO_ARCHIVE_MODELS=true

# ============================================================================
# FLASK SERVER CONFIGURATION
# ============================================================================

# Flask environment (development, production)
FLASK_ENV=production

# Flask debug mode (true for development only)
FLASK_DEBUG=false

# Backend API port
FLASK_PORT=8000

# ============================================================================
# CORS CONFIGURATION
# ============================================================================

# Allowed origins for CORS (comma-separated)
# CORS_ORIGINS=http://localhost:5000,https://your-domain.com

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log file path (optional, logs to console by default)
# LOG_FILE=logs/fairlens.log

# ============================================================================
# COMPLIANCE & AUDIT CONFIGURATION
# ============================================================================

# Compliance audit log file path
AUDIT_LOG_PATH=fairlens_backend/compliance_audit_log.jsonl

# Encryption key file path
ENCRYPTION_KEY_PATH=fairlens_backend/fernet.key

# Enable audit log encryption
ENCRYPT_AUDIT_LOG=true

# ============================================================================
# DEMO vs PRODUCTION MODE
# ============================================================================

# Set to 'production' to use real ML models, 'demo' for synthetic data
MODE=production

# ============================================================================
# EXAMPLE DEFAULT USER CREDENTIALS (CHANGE IN PRODUCTION!)
# ============================================================================

# Default admin credentials (CHANGE THESE!)
# ADMIN_USERNAME=admin
# ADMIN_PASSWORD=your-secure-password-here

# ============================================================================
# NOTES
# ============================================================================

# 1. Never commit .env file to version control (it contains secrets)
# 2. In Replit, DATABASE_URL is automatically configured for PostgreSQL
# 3. Generate strong JWT_SECRET in production: secrets.token_urlsafe(32)
# 4. For Slack webhooks, create app at https://api.slack.com/apps
# 5. Default users are defined in auth.py (admin/admin123, auditor/auditor123, monitor/monitor123)
# 6. Change default passwords before deploying to production!
